<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<link rel="dns-prefetch" href="//apps.bdimg.com">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=0.0, viewport-fit=cover">
	<meta http-equiv="Cache-Control" content="no-transform" />
	<meta http-equiv="Cache-Control" content="no-siteapp" />
	<meta name='robots' content='noindex, follow, max-image-preview:large' />
<title>wd=恋爱与选举与巧克力 搜索文章 - Hikarinagi</title>
<meta name="keywords" content="wd=恋爱与选举与巧克力">
<meta name="description" content="Hikarinagi: &#039;wd=恋爱与选举与巧克力&#039; 的搜索結果">
<link rel="canonical" href="https://www.hikarinagi.com/?s=wd%3D%E6%81%8B%E7%88%B1%E4%B8%8E%E9%80%89%E4%B8%BE%E4%B8%8E%E5%B7%A7%E5%85%8B%E5%8A%9B" /><link rel='stylesheet' id='wp-block-library-css' href='https://www.hikarinagi.com/wp-includes/css/dist/block-library/style.min.css?ver=6.5.2' type='text/css' media='all' />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='global-styles-inline-css' type='text/css'>
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='my-plugin-style-css' href='https://www.hikarinagi.com/wp-content/plugins/self-logout/style.css?ver=6.5.2' type='text/css' media='all' />
<link rel='stylesheet' id='_bootstrap-css' href='https://www.hikarinagi.com/wp-content/themes/zibll/css/bootstrap.min.css?ver=7.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='_fontawesome-css' href='https://www.hikarinagi.com/wp-content/themes/zibll/css/font-awesome.min.css?ver=7.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='_main-css' href='https://www.hikarinagi.com/wp-content/themes/zibll/css/main.min.css?ver=7.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='_forums-css' href='https://www.hikarinagi.com/wp-content/themes/zibll/inc/functions/bbs/assets/css/main.min.css?ver=7.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='random-gal-widget-style-css' href='https://www.hikarinagi.com/wp-content/plugins/random-gal-widget/random-gal-widget.css?ver=6.5.2' type='text/css' media='all' />
<script type="text/javascript" src="https://www.hikarinagi.com/wp-content/themes/zibll/js/libs/jquery.min.js?ver=7.5.1" id="jquery-js"></script>
    <script type="text/javascript">
        $(function() {
            $('.avatar-set-link').css('z-index', '1');
                   $('.author-header .header-content .header-info .header-avatar')
.css('display', 'flex') .css('align-items', 'center');
            $('.avatarboxs .avatar').css('width', '120px', 'height', '120px');
        })
    </script>
    <style>
        .top-user-box-drop .avatar {
            border-radius: 50%;
        }

        .comment .gravatar img {
            border-radius: 50%;
        }

        /*用户中心头像圆形*/
        .author-header .avatar-img {
            --this-size: 95px;
        }

        .author-header .avatar-img .avatar {
            border-radius: 50px;
        }

        .item-meta .avatar-mini {
            transform: translateY(-3px);
            right: -3px;
        }

        .forum-posts {
            --this-padding: 15px 20px;
            padding: var(--this-padding);
            display: flex;
            transition: .3s;
            position: relative;
            margin-left: 6px;
        }

        .user-info {
            margin-left: 10px;
        }
    </style>
<!-- Analytics by WP Statistics - https://wp-statistics.com -->
<link rel='shortcut icon' href='https://img-static.hikarinagi.com/uploads/2024/05/67b4be0aafe740f792a225efbeebb46a.ico'><link rel='icon' href='https://img-static.hikarinagi.com/uploads/2024/05/67b4be0aafe740f792a225efbeebb46a.ico'><link rel='apple-touch-icon-precomposed' href='https://img-static.hikarinagi.com/uploads/2024/05/79056116ffbe081a6322ecf0603c3118.png'><meta name='msapplication-TileImage' content='https://img-static.hikarinagi.com/uploads/2024/05/79056116ffbe081a6322ecf0603c3118.png'><style>body{--theme-color:#66ccff;--focus-shadow-color:rgba(102,204,255,.4);--focus-color-opacity1:rgba(102,204,255,.1);--mian-max-width:1250px;}.smilie-icon {
  width: 60px;
}

@media screen and (min-width: 980px){
  .tab-content .posts-item:not(article){
    transition: all 0.3s;
  }
  .tab-content .posts-item:not(article):hover{
    transform: translateY(-6px); 
    box-shadow: 0 0 20px 
      rgb(102,204,255);
  }
}
@media screen and (min-width: 980px){
  .search-content .posts-item:not(article){
    transition: all 0.3s;
  }
  .search-content .posts-item:not(article):hover{
    transform: translateY(-6px); 
    box-shadow: 0 0 20px 
      rgb(102,204,255);
  }
}
@media screen and (min-width: 980px){
  .posts-row .posts-item:not(article){
    transition: all 0.3s;
  }
  .posts-row .posts-item:not(article):hover{
    transform: translateY(-6px); 
    box-shadow: 0 0 20px 
      rgb(102,204,255);
  }
}
/*彩色滚动条样式*/

::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background-color: #66ccff; 
    border-radius: 10px; 
    border: 2px solid transparent; 
    background-clip: content-box;
}

:-webkit-scrollbar {
    opacity: 0; 
    transition: opacity 0.3s;
}

::-webkit-scrollbar {
    opacity: 1;
}

/** 鼠标样式 开始**/
/** 普通指针样式**/
/*
body {
cursor: url(//i.loli.net/2017/08/19/5997836b66d58.png), default;
}

a:hover{cursor:url(//i.loli.net/2017/08/19/599783800335d.png), pointer;}
/** 鼠标样式 结束**/
.enlighter-default .enlighter{max-height:400px;overflow-y:auto !important;}.enlighter-toolbar{display:none !important;}.posts-item .item-heading>a {font-weight: bold;color: unset;}.lazyloaded{--lazy-animation: lazy_fade;}@media (max-width:640px) {
		.meta-right .meta-view{
			display: unset !important;
		}
	}</style>
<!--HEADER_CODE_START-->
<div id="app"></div>
<div id="element-ui-container"></div>
<!--<script src="https://api.hikarinagi.com/live2d/live2d-widget/autoload.js"></script>-->
<script src="https://api.hikarinagi.com/silky-scroll/main.js"></script>
<!-- 引入Vue -->
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
<!-- 引入Element UI样式 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/theme-chalk/index.css">
<!-- 引入Element UI组件库 -->
<script src="https://cdn.jsdelivr.net/npm/element-ui@2.15.6/lib/index.js"></script>

<link href="https://img-static.hikarinagi.com/font/font_MiSans.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css" rel="stylesheet">

<style type="text/css">
    div{font-family: 'MiSans-global';}
    span{font-family: 'MiSans-global';}
    a{font-family: 'MiSans-global';}
</style>


<script src="https://api.hikarinagi.com/npm/sweetalert2@8"></script>
<div class="usercm" style="left: 199px; top: 5px; display: none;">
    <ul>
        <li><a href="https://www.hikarinagi.com/"><i class="fa fa-home fa-fw"></i><span>首页</span></a></li>
      	<li><a href="javascript:void(0);" onclick="downloadImage();"><i class="fa fa-download fa-fw"></i><span>保存图片</span></a></li>
        <li><a href="javascript:void(0);" onclick="getSelect();"><i class="fa fa-copy fa-fw"></i><span>复制</span></a></li>
        <li><a href="javascript:void(0);" onclick="textPaste();"><i class="fa fa-paste fa-fw"></i><span>粘贴</span></a></li>
        <li><a href="javascript:void(0);" onclick="openInNewTab();"><i class="fa fa-external-link fa-fw"></i><span>在新标签页中打开</span></a></li>
        <li><a href="javascript:history.go(1);" ><i class="fa fa-arrow-right fa-fw"></i><span>前进</span></a></li>
        <li><a href="javascript:history.go(-1);" ><i class="fa fa-arrow-left fa-fw"></i><span>后退</span></a></li>
        <li style="border-bottom:1px solid gray"><a href="javascript:window.location.reload();"><i class="fa fa-refresh fa-fw"></i><span>刷新</span></a></li>
        <li><a href="/cdn-cgi/l/email-protection#84f6edeae3fdf1efedc4ecedefe5f6edeae5e3edaae7ebe9"><i class="fa fa-pencil-square-o fa-fw"></i><span>向我们反馈</span></a></li>
    </ul>
</div>

<style type="text/css">
    a {
        text-decoration: none;
    }
    
    div.usercm {
        background-repeat: no-repeat;
        background-position: center center;
        background-size: cover;
        background-color: var(--header-bg);
        backdrop-filter: blur(12px);
        font-size: 13px!important;
        width: 170px;
        -moz-box-shadow: 1px 1px 3px rgba(0, 0, 0, .3);
        box-shadow: 0px 0px 15px #333;
        position: absolute;
        display: none;
        z-index: 10000;
        opacity: 0.9;
        border-radius: 8px;
    }
    
    div.usercm ul {
        list-style-type: none;
        list-style-position: outside;
        margin: 0;
        padding: 0;
        display: block;
    }
    
    div.usercm ul li {
        margin: 0;
        padding: 0;
        line-height: 35px;
    }
    
    div.usercm ul li a {
        color: #666;
        padding: 0 15px;
        display: flex; /* 使用 Flex 布局 */
        align-items: center; /* 垂直居中对齐 */
    }
    
    div.usercm ul li a:hover {
        color: #fff;
        background: rgba(102,204,255, 0.88);
    }
    
    div.usercm ul li a i {
        margin-right: 10px;
        display: block; /* 确保图标是块级元素 */
    }

    div.usercm ul li a span {
        display: flex; /* 使用 Flex 布局 */
        align-items: center; /* 垂直居中对齐 */
        font-weight: bold; 
    }
    
    a.disabled {
        color: #c8c8c8!important;
        cursor: not-allowed;
    }
    
    a.disabled:hover {
        background-color: rgba(255, 11, 11, 0)!important;
    }
    
    div.usercm {
        background: #fff!important;
    }
</style>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">
var selectedText = "";
var clickedElement = null;

function downloadImage() {
    if (clickedElement && clickedElement.tagName.toLowerCase() === 'img') {
        const imgUrl = clickedElement.src;

        // 创建一个隐藏的 form 表单来提交图片请求
        const form = document.createElement('form');
        form.method = 'GET';
        form.action = imgUrl;
        form.target = '_blank'; // 在新标签页中打开

        // 设置 referer，通常无法通过普通 HTML 或 JS 直接修改 referer
        // 但服务器可通过请求头识别来处理这个问题
        form.style.display = 'none';

        document.body.appendChild(form); // 将 form 添加到 DOM
        form.submit(); // 提交表单，打开新标签页
        document.body.removeChild(form); // 提交后移除表单
    } else {
        new Vue({
            data: function() {
                this.$notify({
                    title: "错误",
                    message: "请重试",
                    position: 'bottom-right',
                    type: "error"
                });
                return { visible: false }
            }
        });
    }
}

(function(a) {
    a.extend({
        mouseMoveShow: function(b) {
            var d = 0,
                c = 0,
                h = 0,
                k = 0,
                e = 0,
                f = 0;
            a(window).mousemove(function(g) {
                d = a(window).width();
                c = a(window).height();
                h = g.clientX;
                k = g.clientY;
                e = g.pageX;
                f = g.pageY;
                h + a(b).width() >= d && (e = e - a(b).width() - 5);
                k + a(b).height() >= c && (f = f - a(b).height() - 5);
                a("html").on({
                    contextmenu: function(c) {
                        if (c.which == 3) {
                            selectedText = window.getSelection ? window.getSelection().toString() : document.selection.createRange().text;
                            clickedElement = c.target; // 获取右键点击的元素
                          
                                                      // 如果点击的是图片，显示“保存图片”选项
                            if (clickedElement && clickedElement.tagName.toLowerCase() === 'img') {
                                a('li:contains("保存图片")').show(); // 显示“保存图片”
                            } else {
                                a('li:contains("保存图片")').hide(); // 隐藏“保存图片”
                            }
                          
                            a(b).css({
                                left: e,
                                top: f
                            }).show();
                            return false; // 防止默认右键菜单
                        }
                    },
                    click: function() {
                        a(b).hide();
                    }
                })
            })
        },
        disabledContextMenu: function() {
            window.oncontextmenu = function() {
                return !1
            }
        }
    })
})(jQuery);

function getSelect() {
    if (selectedText === "") {
        new Vue({
            data: function() {
                this.$notify({
                    title: "错误",
                    message: "啊噢...你还没选择文字呢！",
                    position: 'bottom-right',
                    offset: 50,
                    showClose: false,
                    type: "error"
                });
                return { visible: false }
            }
        });
    } else {
        document.execCommand("Copy");
    }
}

function textPaste() {
    if (!navigator.clipboard) {
        new Vue({
            data: function() {
                this.$notify({
                    title: "错误",
                    message: "啊噢...你的浏览器不支持剪贴板功能！",
                    position: 'bottom-right',
                    offset: 50,
                    showClose: false,
                    type: "error"
                });
                return { visible: false }
            }
        });
        return;
    }

    navigator.clipboard.readText().then(
        clipText => {
            var element = clickedElement;
        //    console.log("clicked element:", element); // 调试信息

            // 检查元素是否为 textarea、input 或 contenteditable
            if (element && (element.tagName === 'TEXTAREA' || element.tagName === 'INPUT' || element.isContentEditable)) {
                if (element.isContentEditable) {
                    // 如果元素是 contenteditable，追加文本内容
                    element.innerText += clipText;
                } else {
                    // 如果是 textarea 或 input，追加文本内容
                    element.value += clipText;
                }
									/*
                new Vue({
                    data: function() {
                        this.$notify({
                            title: "成功",
                            message: "已成功粘贴剪贴板内容",
                            position: 'bottom-right',
                            offset: 50,
                            showClose: false,
                            type: "success"
                        });
                        return { visible: false }
                    }
                }); */
            } else {
                new Vue({
                    data: function() {
                        this.$notify({
                            title: "错误",
                            message: "找不到可输入文字的元素",
                            position: 'bottom-right',
                            offset: 50,
                            showClose: false,
                            type: "error"
                        });
                        return { visible: false }
                    }
                });
            }
        }
    ).catch(err => {
       // console.error("Error reading clipboard:", err);
        new Vue({
            data: function() {
                this.$notify({
                    title: "错误",
                    message: "读取剪贴板内容失败",
                    position: 'bottom-right',
                    offset: 50,
                    showClose: false,
                    type: "error"
                });
                return { visible: false }
            }
        });
    });
}

function openInNewTab() {
    let element = clickedElement;
    while (element) {
        if (element.tagName) {
            if (element.tagName.toLowerCase() === 'a' && element.href) {
                window.open(element.href, '_blank');
                return;
            }
            element = element.parentElement;
        } else {
            break;
        }
    }

    // 如果没有找到a标签，检查是否存在父级元素中的img标签
    element = clickedElement;
    while (element) {
        if (element.tagName && element.tagName.toLowerCase() === 'img' && element.parentElement.tagName.toLowerCase() === 'a') {
            window.open(element.parentElement.href, '_blank');
            return;
        }
        element = element.parentElement;
    }

    new Vue({
        data: function() {
            this.$notify({
                title: "错误",
                message: "看起来你没有选中任何链接！",
                position: 'bottom-right',
                offset: 50,
                showClose: false,
                type: "error"
            });
            return { visible: false }
        }
    });
}


    function baiduSearch() {
        var a = window.getSelection ? window.getSelection() : document.selection.createRange().text;
        "" == a ? layer.msg("啊噢...你没还没选择文字呢！") : window.open("https://www.baidu.com/s?wd=" + a)
    }

    $(function() {
        for (var a = navigator.userAgent, b = "Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";"), d = !0, c = 0; c < b.length; c++)
            if (0 < a.indexOf(b[c])) {
                d = !1;
                break
            }
        d && ($.mouseMoveShow(".usercm"), $.disabledContextMenu())
    });
  
  
  //全局element UI通知
  function showNotification(title, type, message) {
    if (typeof ELEMENT === 'undefined') {
        console.error('Element UI is not loaded');
        return;
    }
    ELEMENT.Notification({
        title: title,
        message: message,
        type: type,
        duration: 5000,
      	offset: 50,
        position: 'bottom-right'
    });
	}
  
</script>



<!-- 引入Microsoft Clarity -->
<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "l0vsc1wdkx");
</script>

<!--HEADER_CODE_END-->
<meta name='apple-mobile-web-app-title' content='Hikarinagi'><!--[if IE]><script src="https://www.hikarinagi.com/wp-content/themes/zibll/js/libs/html5.min.js"></script><![endif]--><style type="text/css" id="qj_dh_css">.qjdh_no9 { display: flex; justify-content: center; align-items: center; height: 50vh; background-color: transparent; }.qjdh_no9 > div { display: inline-block; margin: 5px; width: 15px; height: 15px; border-radius: 50%; background-color: #66ccff; animation: hikari-glow 1.2s infinite cubic-bezier(.68,-0.55,.27,1.55); }.qjdh_no9 > div:nth-child(1) { animation-delay: -0.4s; }.qjdh_no9 > div:nth-child(2) { animation-delay: -0.2s; }.qjdh_no9 > div:nth-child(3) { animation-delay: 0s; }.qjdh_no9 > div:nth-child(4) { animation-delay: -0.2s; }.qjdh_no9 > div:nth-child(5) { animation-delay: -0.4s; } @keyframes hikari-glow { 0%, 100% { box-shadow: 0 0 5px #66ccff, 0 0 10px #66ccff, 0 0 20px #66ccff, 0 0 40px #66ccff, 0 0 80px #66ccff, 0 0 160px #66ccff; transform: scale(1); opacity: 1; } 50% { box-shadow: 0 0 10px #66ccff, 0 0 20px #66ccff, 0 0 40px #66ccff, 0 0 80px #66ccff, 0 0 160px #66ccff, 0 0 320px #66ccff; transform: scale(1.2); opacity: 0.7; }}</style><link rel="icon" href="https://img-static.hikarinagi.com/uploads/2024/05/8af3a74ede20240529092628.png" sizes="32x32" />
<link rel="icon" href="https://img-static.hikarinagi.com/uploads/2024/05/8af3a74ede20240529092628.png" sizes="192x192" />
<link rel="apple-touch-icon" href="https://img-static.hikarinagi.com/uploads/2024/05/8af3a74ede20240529092628.png" />
<meta name="msapplication-TileImage" content="https://img-static.hikarinagi.com/uploads/2024/05/8af3a74ede20240529092628.png" />
		<style type="text/css" id="wp-custom-css">
			/* 自定义通知样式 */

/*
.notyn {
    position: fixed;
    bottom: 6em;
    right: 0;
    max-width: 330px;
    z-index: 10000000;
}

.notyf {
    margin-bottom: 0.6em;
    color: #606266;
    float: right;
    min-width: 200px;
    padding: 14px 26px 14px 13px;
    border-radius: 8px;
    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);
    background-color: #FFF;
    transform: translateX(0);
    transition: opacity .3s, transform .3s, left .3s, right .3s, top .4s, bottom .3s;
    overflow: hidden;
    font-size: 14px;
}

.notyn-out .notyf {
    transform: translateX(110%);
    opacity: 0.5;
    transition: 0.5s;
}

/* 自定义通知样式 */

.zib-widget #ad .widget_media_image {
	margin-top: 0px;
	margin-bottom: 0px;
}
.zib-widget #ad .widget_media_image:not(:first-child){
	margin-top: 5px;
}
.zib-widget.widget_custom_html {
	border-radius: var(--main-radius);
}

.zib-widget #ad {
	padding: 5px;
}

.forum-posts {
	margin-left: 0px;
}
img.smilie-icon {
    display: inline-block !important;
}

.paid-box.order-type-2
.hidden-box.show {
    padding-top: 7px;
}

a.disabled:hover{
	background-color: rgb(150, 150, 150) !important;
}
.but.disabled, .but.disabled:hover {
    background-color: #888;
    cursor: not-allowed;
}
.alert.jb-yellow:before{
	content: none;
}
.alert.jb-red:before{
	content: none;
}
.order-type-3 .pay-tag, .jb-yellow{
	--this-bg: #66ccff;
}
.order-type-3 .pay-tag, .jb-red{
	--this-bg: #ff6347;
}
.order-type-3 .pay-tag, .jb-blue{
	--this-bg: #00bfff;
}

.but.radius, .badg.radius, .radius > .but{
	border-radius: 8px;
}

.pay-dawnload-edit
b{
	display:none;
}
.pay-box .but-download{
	min-width:0;
}
.separator{
	display:none;
}

.ml6{
	margin-left:8px;
}

.pay-box .but-download .but + .but {
    min-width: 28px;
    min-height: 28px;
    background: #4545456e;
    display: flex;
    align-items: center;
    justify-content: center;
    background-image: url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22none%22%20stroke%3D%22%23FFFFFF%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%3E%3Cg%20fill%3D%22none%22%20stroke%3D%22%23FFFFFF%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%222%22%3E%3Crect%20width%3D%2214%22%20height%3D%2214%22%20x%3D%228%22%20y%3D%228%22%20rx%3D%222%22%20ry%3D%222%22%2F%3E%3Cpath%20d%3D%22M4%2016c-1.1%200-2-.9-2-2V4c0-1.1.9-2%202-2h10c1.1%200%202%20.9%202%202%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E');
	
    background-size: 15px 15px;
    background-repeat: no-repeat;
    background-position: center;
	   background-position: right 5px center;
	   padding-right: 25px;
			color:white;
}

.hot-posts-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 10px;
}

.toggle-button {
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
    transition: transform 0.2s;
}

.toggle-button:hover {
    transform: scale(1.1);
}

.hot-posts-title {
    margin: 0 20px;
    font-size: 18px;
    font-weight: bold;
}
.fade-in {
    opacity: 1;
    transition: opacity 0.2s ease;
}

.fade-out {
    opacity: 0;
    transition: opacity 0.2s ease;
}

.badge-question {
    border-radius: 4px;
}
.jb-cyan {
    --this-bg: #66ccff;
}
badge.badge-essence, badge.badge-topping {
    border-radius: 4px;
}
.order-type-3 .pay-tag, .jb-blue {
    --this-bg: #44bffd;
}
.order-type-2 .pay-tag, .jb-pink {
    --this-bg: #66ccff;
}


.pay-box .but.baidu {
    background: #1578f8;
}

.pay-box .but.lanzou {
    background: #f37526;
}

.pay-box .but.alipan {
    background: #6666ff;
}

.pay-box .but.weiyun {
    background: #33b0fa;
}

.pay-box .but.onedrive {
    background: #1254c6;
}

.pay-box .but.tianyi {
    background: #fe9c0a;
}

.pay-box .but.ctfile {
    background: #08be9f;
}

.mfooter {
    text-align: center;
    font-size: 12px;
}

.status-dot {
	display: inline-block;
	margin-right: 5px;
}
.status-dot.status-1 {
	background-color: #00d900;
	border-radius: 50%;
	height: 10px;
	width: 10px;
}

.status-dot.status-2 {
	background-color: #ff0000;
	border-radius: 50%;
	height: 10px;
	width: 10px;
}

.status-dot.status-3 {
	background-color: #ffcc00;
	border-radius: 50%;
	height: 10px;
	width: 10px;
}

.status-dot.status-4 {
	background-color: #9a9a9a;
	border-radius: 50%;
	height: 10px;
	width: 10px;
}

.comment-content {
	word-wrap: break-word;
}
.hover-zoom-sm:hover, .hover-zoom-img-sm:hover img, .posts-mini:hover img, .posts-item:hover .item-thumbnail img, .posts-item.mult-thumb:hover {
	transform: none;
}

.navbar-avatar {
    margin-top: 2px;
}
.navbar-form .ml10 {
	margin-left: 0px;
}
.toggle-radius {
	margin-right:5px;
}

.fa-tshirt::before {
	content: "\f553"; 
	font-family: "Font Awesome 5 Free"; 
}

.modal-backdrop.in {
   z-index: 1;
}

#customModal .modal-body {
	position: relative;
	padding: 15px;
	display: flex;
	flex-direction: column;
	margin: 5px;
}

.switch-label {
	display: flex;
	align-items: center;
	justify-content: space-between;
	font-weight: 400;
	font-size: 16px;
	cursor: pointer;
	
}


.switch-text {
	flex-grow: 1; /* 让文本占据左侧空间 */
}

.ios-switch {
	display: none !important; /* 隐藏复选框 */
}

.slider {
	position: relative;
	width: 40px;
	height: 20px;
	background-color: #ccc;
	border-radius: 34px;
	transition: .4s;
	margin-left: 10px;
	flex-shrink: 0; /* 确保滑动开关保持固定宽度 */
}

.slider:before {
	position: absolute;
	content: "";
	height: 16px;
	width: 16px;
	left: 2px;
	bottom: 2px;
	background-color: white;
	border-radius: 50%;
	transition: .4s;
}

.ios-switch:checked + .slider {
	background-color: #66ccff;
}

.ios-switch:checked + .slider:before {
	transform: translateX(20px);
}

.ios-switch:checked + .slider + .switch-text {
	font-weight: 700 ;
}

.customModalTip .fa {
	font-size: 12px;
}

.navbar-right .avatar-img {
	margin-right: 7px;
}

.private-content::before, .dropdown-menu::before {
	background: none;
}

.vip-card {
	color: var(--main-color) !important;
}

.box-body.payvip-modal ul.flex.jsb.mt10.mb20.vip-cardminis.gutters-5 {
    display: none;
}

.col-sm-5.text-center.theme-box {
    display: none;
}

#tab-payvip-1 .row {
    display: flex;
    justify-content: center;
}

.user-info {
	margin-left: 0;
}

.user-btns .ml6 {
	margin-left: 0px;
}

.index-tab ul > li {
	border-radius: 8px;
}

.index-tab.mb10.affix-header-sm.relative {
	background: var(--header-bg);
	backdrop-filter: blur(12px);
	border-radius: 8px;
	width: fit-content;
}

.order-type-4 .pay-tag, .jb-vip1 {
	--this-bg: #66ccff;
	--this-color: white;
}

.sign.zib-widget.blur-bg {
	background: var(--main-bg-color);
}

#random-gal-title {
	font-size: 18px;
	margin: 5px 0;
	height: 24px;
}

#random-gal-tag {
	margin-bottom: 10px;
}

.posts-row {
	margin-left: 0;
	margin-right: 0;
	margin-bottom: 15px;
}

.updata-log-content {
	max-height: 600px;
	overflow-y: scroll;
}

.zib-widget #ad .close-btn {
	color: white;
	font-size: 20px;
	text-align: center;
	position: absolute;
	z-index: 100;
	height: 30px;
	width: 30px;
	background: #43434370;
	right: 5px;
	top: 10px;
	cursor: pointer;
	display: inline-block;
}

/* 定义渐显动画 *//*
@keyframes fadeIn {
    0% {opacity: 0;}
    100% {opacity: 1;}
}
*/
/*ul.nav {font-weight: 700;}*/
.pay-thumb 
.graphic{
	   width: 100%; 
    height: 100%;
}
.dropdown-smilie .smilie-icon {
    display: inline-block;
    padding: 3px;
    width: 60px !important;
}
.pay-thumb {
	   width: 20%; /* 新宽度 */
    height: 20%; /* 保持宽高比 */
}
/***日主题模式**/
/*
body {
    background-image: url("https://r2.hikarinagi.com/img/hikarinagi/bg-light.jpg");
    background-position-x: center;
    background-position-y: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;
}
*/
/***夜间主题模式***/
/*
.dark-theme {
    background-position-x: center;
    background-position-y: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-image: url("https://r2.hikarinagi.com/img/hikarinagi/bg-dark.jpg");
    background-size: cover;
}
*/
/*
body::before {
    content: "";
    position: fixed; 
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-image: url("https://img-static.hikarinagi.com/img/hikarinagi/bg-light.jpg");
    background-size: cover;
    background-position: center;
    z-index: -1;
}

.dark-theme::before {
    background-image: url("https://img-static.hikarinagi.com/img/hikarinagi/bg-dark.jpg") !important;
}
*/

.medal-card .medal-icon{
	   width: auto;
    height: auto;
}
.medal-single-card.medal-card .medal-icon{
		  width: auto;
    height: auto;
}

.footer-tabbar .single-pay-tabbar{
	display: none;
}
.footer-tabbar-placeholder{
	background: #fff0;
}
/** 全局模糊 **/

.main-bg {
    background: var(--header-bg);
    backdrop-filter: blur(12px);
}

.zib-widget {
    background: var(--header-bg);
    backdrop-filter: blur(12px);
}

.posts-item.card {
    background: var(--header-bg);
    backdrop-filter: blur(12px);
}

.forum-posts.alone {
    background: var(--header-bg);
    backdrop-filter: blur(12px);
}

.plate-lists .plate-item {
    background: var(--header-bg);
    backdrop-filter: blur(12px);
}

body {
	--blur-bg: rgba(255, 255, 255, 0.32);
}

.dark-theme {
		--blur-bg: rgb(50 51 53 / 32%);
}

.nav-fixed .header {
	-webkit-backdrop-filter: saturate(2) blur(20px);
	backdrop-filter: saturate(2) blur(20px);
}

.footer {
	-webkit-backdrop-filter: saturate(2) blur(20px) ;
	backdrop-filter: saturate(2) blur(20px) !important;
}

/*
body{
	--key-color: #000000 !important; 
}

.posts-item.card.style3 {
	background: rgba(255, 255, 255, 0.5); 
  backdrop-filter: blur(50px); 
}

.user-card{
		background: rgba(255, 255, 255, 0.2); 
  backdrop-filter: blur(10px); 
}

.hot-posts{
			background: rgba(255, 255, 255, 0.2); 
  backdrop-filter: blur(10px); 
}

.padding-h6{
		background: rgba(255, 255, 255, 0.2); 
  backdrop-filter: blur(10px); 
}

.plate-item{
	background: rgba(255, 255, 255, 0.2); 
  backdrop-filter: blur(10px);
}

.forum-posts.detail{
		background: rgba(255, 255, 255, 0.0); 
  backdrop-filter: blur(10px);
}

.article{
		background: rgba(255, 255, 255, 0.4); 
  backdrop-filter: blur(30px);
}

.yiyan-box{
			background: rgba(255, 255, 255, 0.2); 
  backdrop-filter: blur(10px);
}

.pay-box{
			background: rgba(0, 0, 0, 0); 
  backdrop-filter: blur(10px);
}

.plate-lists .plate-item{
		background: rgba(255, 255, 255, 0.2); 
  backdrop-filter: blur(10px);
}

.fixed-wrap .fixed-wrap-nav.zib-widget{
		background: rgba(255, 255, 255, 0.0); 
  backdrop-filter: blur(10px);
}

.zib-widget{
			background: rgba(255, 255, 255, 0.0); 
  backdrop-filter: blur(10px);
}

*/
.custom-button {
	background-color: #66ccff !important;
	border: none !important;
	border-radius: 8px !important;
	cursor: pointer !important;
	padding: 12px 12px !important;
	color: #fff !important;
	transition: all 0.3s ease !important;
	font-size: 15px !important;
	margin-right: 5px;
	/* margin-bottom: 5px; */
}

.custom-button:hover {
	background-color: #5599cc !important;
	color: #fff !important;
}

.custom-button.gray {
	background-color: #808080a1 !important; 
}

.custom-button.gray:hover {
	background-color: #696969 !important;
}
	

.footer{
	 background: var(--header-bg);
	-webkit-backdrop-filter: saturate(5) blur(20px);
	backdrop-filter: saturate(5) blur(20px);
	transition: 0.3s;
}

.vip-card{
	background: white; !important
}

.dark-theme
.vip-card{
	background: #323335; !important
}

.f404 img{
	max-width: 250px;
}

.smooth-herf {
	color: var(--main-color) !important; text-decoration: none; position: relative; display: inline-block; overflow: visible; z-index: 1; transition: color 0.3s ease;
}

.smooth-herf:hover {
	color: #fff !important;
}

.smooth-herf::before {
	content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: #66ccff; z-index: -1; transform: scale(0); transform-origin: bottom right; transition: transform 0.2s ease;
}

.smooth-herf:hover::before {
	transform: scale(1); transform-origin: top left;
}

.details {
border: none;
	cursor: pointer;
	display: inline-block;
	font-size: 17px;
	line-height: 2.5;
	font-weight: bold;
	left: 89%;
	top: 70%;
	position: absolute;
	color: #666 !important;
}

@media screen and (max-width: 850px) {
	.widget_random_gal_widget {
		display: none;
	}
}


		</style>
			</head>
<body class="search search-results white-theme nav-fixed site-layout-1">
	<div class="qjl qj_loading" style="position: fixed;background:var(--main-bg-color);width: 100%;margin-top:-150px;height:300%;z-index: 99999999"><div style="position:fixed;top:0;left:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center"><div class="qjdh_no9"><div></div><div></div><div></div><div></div><div></div></div></div></div>		  <header class="header header-layout-2">
    <nav class="navbar navbar-top center">
      <div class="container-fluid container-header">
        <div class="navbar-header">
			<div class="navbar-brand"><a class="navbar-logo" href="https://www.hikarinagi.com"><img src="https://img-static.hikarinagi.com/uploads/2024/05/00f451acb1d34a1403a9bf4bdaca91b3.png" switch-src="https://img-static.hikarinagi.com/uploads/2024/05/00f451acb1d34a1403a9bf4bdaca91b3.png" alt="Hikarinagi - 一个ACGN文化社区" >
			</a></div>
			<button type="button" data-toggle-class="mobile-navbar-show" data-target="body" class="navbar-toggle"><i class="em12 css-icon i-menu"><i></i></i></button><a class="main-search-btn navbar-toggle" href="javascript:;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"></use></svg></a>
		</div>        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav"><li id="menu-item-38" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-38"><a href="https://www.hikarinagi.com">首页</a></li>
<li id="menu-item-24" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-24"><a href="https://www.hikarinagi.com/forums">论坛</a></li>
<li id="menu-item-4006" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4006"><a href="https://www.hikarinagi.com/p/3963"><i class="fab fa-telegram" aria-hidden="true"></i> TG群</a></li>
<li id="menu-item-734" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-734"><a href="https://www.hikarinagi.com/p/category/light-novel">轻小说</a></li>
<li id="menu-item-16031" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-16031"><a href="https://www.hikarinagi.com/p/category/gal">Galgame</a>
<ul class="sub-menu">
	<li id="menu-item-16032" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16032"><a href="https://www.hikarinagi.com/p/category/gal/pc-gal">PC</a></li>
	<li id="menu-item-16033" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16033"><a href="https://www.hikarinagi.com/p/category/gal/pe-gal">PE</a></li>
</ul>
</li>
<li id="menu-item-3801" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-3801"><a>工具</a>
<ul class="sub-menu">
	<li id="menu-item-3012" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3012"><a href="https://www.hikarinagi.com/producers">会社分类</a></li>
	<li id="menu-item-3149" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3149"><a href="https://www.hikarinagi.com/banned">小黑屋</a></li>
	<li id="menu-item-3409" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3409"><a target="_blank" rel="noopener" href="https://monitor.hikarinagi.com/">状态监测</a></li>
</ul>
</li>
</ul><div class="navbar-form navbar-right hide show-nav-but" style="margin-right:-10px;"><a data-toggle-class data-target=".nav.navbar-nav" href="javascript:;" class="but"><svg class="" aria-hidden="true" data-viewBox="0 0 1024 1024" viewBox="0 0 1024 1024"><use xlink:href="#icon-menu_2"></use></svg></a></div><div class="navbar-form navbar-right">
    <a href="#" class="new-toggle-theme toggle-radius" data-toggle="modal" data-target="#customModal">
        <i class="fa fa-tshirt"></i>
    </a>
    
    <div id="customModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-mini modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h5 class="modal-title text-center font-weight-bold">自定义外观</h5>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="autoToggleTheme" class="switch-label">
                            <span class="switch-text">主题颜色跟随系统</span>
                            <input type="checkbox" id="autoToggleTheme" class="ios-switch" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <br>
                    <div class="form-group">
                        <label for="globalBlur" class="switch-label">
                            <span class="switch-text">全局高斯模糊
                            <div class="customModalTip" style="display: inline;"><i data-toggle="tooltip" title="" class="muted-color fa fa-question-circle-o" data-original-title="如果网页卡顿，可以尝试关闭此项"></i></div>
                            </span>
                            <input type="checkbox" id="globalBlur" class="ios-switch" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <br>
                    <div class="form-group">
                        <label for="customCursor" class="switch-label">
                            <span class="switch-text">特殊鼠标</span>
                            <input type="checkbox" id="customCursor" class="ios-switch" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <br>
                    <div class="form-group">
                        <label for="clickEffect" class="switch-label">
                            <span class="switch-text">鼠标点击特效</span>
                            <input type="checkbox" id="clickEffect" class="ios-switch" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <br>

                    <div class="form-group">
                        <label for="customLightBackground" class="switch-label">
                            <span class="switch-text">自定义浅色模式背景
                            <div class="customModalTip" style="display: inline;"><i data-toggle="tooltip" title="" class="muted-color fa fa-question-circle-o" data-original-title="会自动对图片进行文字可读性处理，建议选择浅色系图片"></i></div>
                            </span>
                            <input type="checkbox" id="customLightBackground" class="ios-switch">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <br>
                    <div class="form-group">
                        <label for="customDarkBackground" class="switch-label">
                            <span class="switch-text">自定义深色模式背景
                            <div class="customModalTip" style="display: inline;"><i data-toggle="tooltip" title="" class="muted-color fa fa-question-circle-o" data-original-title="会自动对图片进行文字可读性处理，建议选择深色系图片"></i></div>
                            </span>
                            <input type="checkbox" id="customDarkBackground" class="ios-switch">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <br>
                    <input type="file" id="backgroundImageInput" style="display:none;" accept="image/*">
                    <canvas id="canvas" style="display:none;"></canvas>


                </div>
                <div class="modal-footer">
                    <button type="button" class="custom-button gray" data-dismiss="modal">取消</button>
                    <button type="button" class="custom-button" id="applySettings">应用</button>
                </div>
            </div>
        </div>
    </div><script>
    document.addEventListener("DOMContentLoaded", function() {

        // 检测是否为移动设备
        var isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

        // 如果是移动设备，禁用全局模糊和点击效果
        if (isMobile) {
            document.getElementById("globalBlur").checked = false;
            document.getElementById("clickEffect").checked = false;
            setCookie("globalBlur", false, 30);
            setCookie("clickEffect", false, 30);
        }


        // 加载设置
        loadGeneralSettings();
        // 打开数据库
        openDatabase();
        // 处理自定义背景切换
        handleCustomBackgroundSwitches();
        // 绑定应用设置按钮事件
        bindApplySettingsButton();
    });

    function bindApplySettingsButton() {
        document.getElementById("applySettings").addEventListener("click", function () {
            var autoToggleTheme = document.getElementById("autoToggleTheme").checked;
            var globalBlur = document.getElementById("globalBlur").checked;
            var customCursor = document.getElementById("customCursor").checked;
            var clickEffect = document.getElementById("clickEffect").checked;

            setCookie("autoToggleTheme", autoToggleTheme, 30);
            setCookie("globalBlur", globalBlur, 30);
            setCookie("customCursor", customCursor, 30);
            setCookie("clickEffect", clickEffect, 30);

            applySettings(autoToggleTheme, globalBlur, customCursor, clickEffect);

            $("#customModal").modal("hide");
            setTimeout(function () {
                location.reload();  // 刷新页面
            }, 500);
        });
    }

    function applySettings(autoToggleTheme, globalBlur, customCursor, clickEffect) {
        // 移除之前的设置
        removeExistingStyles();

        if (autoToggleTheme) {
            applyTheme();
        }

        if (!globalBlur) {
            applyRemoveGlobalBlur();
        }

        if (customCursor) {
            applyCustomCursor();
        }

        if (clickEffect) {
            applyClickEffect();
        }
    }

    function removeExistingStyles() {
        // 移除之前添加的样式和脚本
        var styles = ["globalBlurStyle", "customCursorStyle"];
        styles.forEach(function(id) {
            var elem = document.getElementById(id);
            if (elem) elem.remove();
        });
        var clickEffectScript = document.getElementById("clickEffectScript");
        if (clickEffectScript) clickEffectScript.remove();
    }

    function applyRemoveGlobalBlur() {
        if (!document.getElementById("globalBlurStyle")) {
            var style = document.createElement("style");
            style.id = "globalBlurStyle";
            style.innerHTML = `
                .main-bg,
                .zib-widget,
                .posts-item.card,
                .forum-posts.alone,
                .plate-lists .plate-item,
                .tag-item,
                #tag-search,
                .nav-fixed .header,
                .footer,
                .index-tab.mb10.affix-header-sm.relative {
                    background: var(--main-bg-color) !important;    
                    backdrop-filter: blur(0px);
                }
            `;
            document.head.appendChild(style);
        }
    }

    function applyCustomCursor() {
        if (!document.getElementById("customCursorStyle")) {
            var style = document.createElement("style");
            style.id = "customCursorStyle";
            style.innerHTML = "body { cursor: url(//i.loli.net/2017/08/19/5997836b66d58.png), default; } a:hover { cursor: url(//i.loli.net/2017/08/19/599783800335d.png), pointer; }";
            document.head.appendChild(style);
        }
    }

    function applyClickEffect() {
        if (!document.getElementById("clickEffectScript")) {
            var script = document.createElement("script");
            script.id = "clickEffectScript";
            script.src = "https://api.hikarinagi.com/clickEffect/clickEffect.js";
            document.body.appendChild(script);
        }
    }

    function loadGeneralSettings() {
        var autoToggleTheme = getCookie("autoToggleTheme") !== "false";
        var globalBlur = getCookie("globalBlur") !== "false";
        var customCursor = getCookie("customCursor") !== "false";
        var clickEffect = getCookie("clickEffect") !== "false";

        document.getElementById("autoToggleTheme").checked = autoToggleTheme;
        document.getElementById("globalBlur").checked = globalBlur;
        document.getElementById("customCursor").checked = customCursor;
        document.getElementById("clickEffect").checked = clickEffect;

        applySettings(autoToggleTheme, globalBlur, customCursor, clickEffect);

        if (autoToggleTheme) {
            setInterval(updateThemeBasedOnTime, 1000 * 60 * 60); // 每小时检查一次时间变化
            window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", updateThemeBasedOnSystemPreference);
        }
    }

    function applyTheme() {
        var themeMode = getCookie("theme_mode");

        if (themeMode === "dark-theme") {
            document.body.classList.add("dark-theme");
            document.body.classList.remove("white-theme");
        } else if (themeMode === "white-theme") {
            document.body.classList.add("white-theme");
            document.body.classList.remove("dark-theme");
        }
    }

    function updateThemeBasedOnTime() {
        var time = new Date().getHours();
        var currentTheme = getCookie("theme_mode");

        if (time >= 19 || time < 7) {
            if (currentTheme !== "dark-theme") {
                document.cookie = "theme_mode=dark-theme; path=/";
                applyTheme();
            }
        } else {
            if (currentTheme !== "white-theme") {
                document.cookie = "theme_mode=white-theme; path=/";
                applyTheme();
            }
        }
    }

    function updateThemeBasedOnSystemPreference(e) {
        var prefersDarkScheme = e.matches;
        var currentTheme = getCookie("theme_mode");

        if (prefersDarkScheme && currentTheme !== "dark-theme") {
            document.cookie = "theme_mode=dark-theme; path=/";
            applyTheme();
        } else if (!prefersDarkScheme && currentTheme !== "white-theme") {
            document.cookie = "theme_mode=white-theme; path=/";
            applyTheme();
        }
    }

    function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(";");
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==" ") c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return decodeURIComponent(c.substring(nameEQ.length,c.length));
        }
        return null;
    }
    
    function setCookie(name, value, days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + encodeURIComponent(value) + expires + "; path=/";
    }


    // IndexedDB 相关变量
    let db;
    const dbName = "CustomBackgroundDB";
    const objectStoreName = "backgrounds";

    function openDatabase() {
        let request = indexedDB.open(dbName, 1);

        request.onupgradeneeded = function(event) {
            db = event.target.result;
            if (!db.objectStoreNames.contains(objectStoreName)) {
                db.createObjectStore(objectStoreName, { keyPath: "id" });
            }
        };

        request.onsuccess = function(event) {
            db = event.target.result;
            if (getCookie("customLightBackground") === "true") {
                loadBackgroundImage("light");
            } else {
                insertDefaultBackgroundCSS("light");
            }
            if (getCookie("customDarkBackground") === "true") {
                loadBackgroundImage("dark");
            } else {
                insertDefaultBackgroundCSS("dark");
            }
        };

        request.onerror = function(event) {
            console.error("IndexedDB 错误:", event.target.errorCode);
        };
    }

    function saveBackgroundImage(blob, mode) {
        let transaction = db.transaction([objectStoreName], "readwrite");
        let store = transaction.objectStore(objectStoreName);
        store.put({ id: mode, image: blob });
    }

    function loadBackgroundImage(mode) {
        if (!db) {
            console.error("IndexedDB 数据库未初始化");
            return;
        }

        let transaction = db.transaction([objectStoreName], "readonly");
        let store = transaction.objectStore(objectStoreName);
        let request = store.get(mode);

        request.onsuccess = function(event) {
            let record = event.target.result;
            if (record && record.image) {
                let url = URL.createObjectURL(record.image);
                insertBackgroundCSS(url, mode);
            }
        };

        request.onerror = function(event) {
            console.error("无法读取背景图片:", event.target.errorCode);
        };
    }

    function insertDefaultBackgroundCSS(mode) {
        let style = document.getElementById("defaultBackgroundStyle-" + mode);
        if (!style) {
            style = document.createElement("style");
            style.id = "defaultBackgroundStyle-" + mode;
            document.head.appendChild(style);
        }

        if (mode === "light") {
            style.innerHTML = 'body::before { content: ""; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-image: url("https://img-static.hikarinagi.com/img/hikarinagi/bg-light.jpg"); background-size: cover; background-position: center; z-index: -2; }';
        } else if (mode === "dark") {
            style.innerHTML = '.dark-theme::before { content: ""; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-image: url("https://img-static.hikarinagi.com/img/hikarinagi/bg-dark.jpg") !important; background-size: cover; background-position: center; z-index: -2; }';
        }
    }

    function insertBackgroundCSS(url, mode) {
        let style = document.getElementById("customBackgroundStyle-" + mode);
        if (!style) {
            style = document.createElement("style");
            style.id = "customBackgroundStyle-" + mode;
            document.head.appendChild(style);
        }

        if (mode === "light") {
            style.innerHTML = 'body::before { content: ""; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-image: url("' + url + '"); background-size: cover; background-position: center; z-index: -2; }';
        } else if (mode === "dark") {
            style.innerHTML = '.dark-theme::before { content: ""; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-image: url("' + url + '") !important; background-size: cover; background-position: center; z-index: -2; }';
        }
    }

    function deleteBackgroundImage(mode) {
        if (!db) {
            console.error("IndexedDB 数据库未初始化");
            return;
        }

        let transaction = db.transaction([objectStoreName], "readwrite");
        let store = transaction.objectStore(objectStoreName);
        let request = store.delete(mode);

        request.onsuccess = function() {
            let style = document.getElementById("customBackgroundStyle-" + mode);
            if (style) {
                style.remove(); // 移除自定义背景样式
            }
            insertDefaultBackgroundCSS(mode); // 插入默认背景
        };

        request.onerror = function(event) {
            console.error("删除 " + mode + " 模式背景图片失败:", event.target.errorCode);
        };
    }

    function handleCustomBackgroundSwitches() {
        const customLightBackgroundInput = document.getElementById("customLightBackground");
        const customDarkBackgroundInput = document.getElementById("customDarkBackground");
        const backgroundImageInput = document.getElementById("backgroundImageInput");

        let customLightBackgroundState = getCookie("customLightBackground") === "true";
        let customDarkBackgroundState = getCookie("customDarkBackground") === "true";

        customLightBackgroundInput.checked = customLightBackgroundState;
        customDarkBackgroundInput.checked = customDarkBackgroundState;

        customLightBackgroundInput.addEventListener("change", function() {
            let isChecked = this.checked;
            setCookie("customLightBackground", isChecked, 30);

            if (isChecked) {
                backgroundImageInput.click();
                backgroundImageInput.onchange = function(event) {
                    let file = event.target.files[0];
                    if (file) {
                        processImage(file, "light");
                    }
                };
            } else {
                deleteBackgroundImage("light");
            }
        });

        customDarkBackgroundInput.addEventListener("change", function() {
            let isChecked = this.checked;
            setCookie("customDarkBackground", isChecked, 30);

            if (isChecked) {
                backgroundImageInput.click();
                backgroundImageInput.onchange = function(event) {
                    let file = event.target.files[0];
                    if (file) {
                        processImage(file, "dark");
                    }
                };
            } else {
                deleteBackgroundImage("dark");
            }
        });
    }

    function processImage(file, mode) {
        showNotification("处理中", "warning", "正在处理图片...");
        const reader = new FileReader();

        reader.onload = function(event) {
            const img = new Image();
            img.src = event.target.result;

            img.onload = function() {
                const canvas = document.getElementById("canvas");
                const ctx = canvas.getContext("2d");
                canvas.width = img.width;
                canvas.height = img.height;

                // 在 canvas 上绘制图片
                ctx.drawImage(img, 0, 0);

                // 根据 mode 添加不同的蒙版
                if (mode === "light") {
                    // 添加白色半透明蒙版
                    ctx.fillStyle = "rgba(255, 255, 255, 0.5)";
                } else if (mode === "dark") {
                    // 添加黑色半透明蒙版
                    ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                }
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // 将处理后的图片导出为 Blob 对象
                canvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);

                    // 将处理后的图片用于背景
                    insertBackgroundCSS(url, mode);

                    // 保存处理后的图片到 IndexedDB
                    saveBackgroundImage(blob, mode);

                    // 发送完成通知
                    showNotification("完成", "success", "图片处理完成");
                }, file.type); 
            };
        };
        reader.readAsDataURL(file);
    }

    </script><a href="javascript:;" class="toggle-theme toggle-radius"><i class="fa fa-toggle-theme"></i></a></div><div class="navbar-form navbar-right navbar-text">
                    <ul class="list-inline splitters relative">
                        <li><a href="javascript:;" class="signin-loader">登录</a></li><li><a href="javascript:;" class="signup-loader">注册</a></li>
                    </ul>
                </div>        </div>
      </div>
    </nav>
  </header>

  <div class="mobile-header">
    <nav mini-touch="mobile-nav" touch-direction="left" class="mobile-navbar visible-xs-block scroll-y mini-scrollbar left">
      <a href="javascript:;" class="toggle-theme toggle-radius"><i class="fa fa-toggle-theme"></i></a><ul class="mobile-menus theme-box"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-38"><a href="https://www.hikarinagi.com">首页</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-24"><a href="https://www.hikarinagi.com/forums">论坛</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4006"><a href="https://www.hikarinagi.com/p/3963"><i class="fab fa-telegram" aria-hidden="true"></i> TG群</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-734"><a href="https://www.hikarinagi.com/p/category/light-novel">轻小说</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-16031"><a href="https://www.hikarinagi.com/p/category/gal">Galgame</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16032"><a href="https://www.hikarinagi.com/p/category/gal/pc-gal">PC</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16033"><a href="https://www.hikarinagi.com/p/category/gal/pe-gal">PE</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-3801"><a>工具</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3012"><a href="https://www.hikarinagi.com/producers">会社分类</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3149"><a href="https://www.hikarinagi.com/banned">小黑屋</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3409"><a target="_blank" rel="noopener" href="https://monitor.hikarinagi.com/">状态监测</a></li>
</ul>
</li>
</ul><div class="posts-nav-box" data-title="文章目录"></div><div class="sub-user-box"><div class="text-center"><div class="flex jsa header-user-href"><a href="javascript:;" class="signin-loader"><div class="badg mb6 toggle-radius c-blue"><svg class="icon" aria-hidden="true" data-viewBox="50 0 924 924" viewBox="50 0 924 924"><use xlink:href="#icon-user"></use></svg></div><div class="c-blue">登录</div></a><a href="javascript:;" class="signup-loader"><div class="badg mb6 toggle-radius c-green"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-signup"></use></svg></div><div class="c-green">注册</div></a><a target="_blank" href="https://www.hikarinagi.com/user-sign?tab=resetpassword&redirect_to=https://www.hikarinagi.com/?s=wd%3D%E6%81%8B%E7%88%B1%E4%B8%8E%E9%80%89%E4%B8%BE%E4%B8%8E%E5%B7%A7%E5%85%8B%E5%8A%9B"><div class="badg mb6 toggle-radius c-purple"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user_rp"></use></svg></div><div class="c-purple">找回密码</div></a></div></div></div><div class="mobile-nav-widget"></div>    </nav>
    <div class="fixed-body" data-toggle-class="mobile-navbar-show" data-target="body"></div>
  </div>
  <div class="container fluid-widget"></div><main class="container">
    <div class="content-wrap">
        <div class="content-layout">
                        <div class="zib-widget" win-ajax-replace="search">
                <div class="search-input main-search"><form method="get" class="padding-10 search-form" action="https://www.hikarinagi.com/"><div class="line-form"><div class="option-dropdown splitters-this-r search-drop"><div class="dropdown"><a href="javascript:;" class="padding-h10" data-toggle="dropdown"><span name="type">文章</span><i class="fa ml6 fa-sort opacity5" aria-hidden="true"></i></a><ul class="dropdown-menu"><li><a href="javascript:;" class="text-ellipsis" data-for="type" data-value="post">文章</a></li><li><a href="javascript:;" class="text-ellipsis" data-for="type" data-value="user">用户</a></li><li><a href="javascript:;" class="text-ellipsis" data-for="type" data-value="plate">版块</a></li><li><a href="javascript:;" class="text-ellipsis" data-for="type" data-value="forum">帖子</a></li></ul></div></div><div class="search-input-text">
                <input type="text" name="s" class="line-form-input" tabindex="1" value="wd=恋爱与选举与巧克力"><i class="line-form-line"></i>
                <div class="scale-placeholder is-focus" default="搜索内容">搜索内容</div>
                <div class="abs-right muted-color"><button type="submit" tabindex="2" class="null"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search"></use></svg></button>
                </div>
            </div><input type="hidden" name="type" value="post"></div></form><div class="search-keywords">
                                <p class="muted-color">热门搜索</p>
                                <div><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=少女&amp;type=post">少女</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=恋爱&amp;type=post">恋爱</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=9 nine&amp;type=post">9 nine</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=兰斯&amp;type=post">兰斯</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=巧克甜恋&amp;type=post">巧克甜恋</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=樱之&amp;type=post">樱之</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=summer&amp;type=post">summer</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=巧克力&amp;type=post">巧克力</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=苍之&amp;type=post">苍之</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=骑士&amp;type=post">骑士</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=灵感&amp;type=post">灵感</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=少年&amp;type=post">少年</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=天津&amp;type=post">天津</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=atri&amp;type=post">atri</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=恋爱与选举&amp;type=post">恋爱与选举</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=糖调&amp;type=post">糖调</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=巧克&amp;type=post">巧克</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=ONE.&amp;type=post">ONE.</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=奇异恩典&amp;type=post">奇异恩典</a><a class="search_keywords muted-2-color but em09 mr6 mb6" href="https://www.hikarinagi.com/?s=猫神&amp;type=post">猫神</a></div>
                            </div></div>            </div>
            <div class="zib-widget ajaxpager search-content type-post"><div class="author-tab"><ul win-ajax-replace="filter" class="em12 list-inline scroll-x mini-scrollbar tab-nav-theme" style="margin:0 -8px 10px;"><li class="active"><a ajax-replace="true" class="ajax-next" href="https://www.hikarinagi.com/?s=wd%3D%E6%81%8B%E7%88%B1%E4%B8%8E%E9%80%89%E4%B8%BE%E4%B8%8E%E5%B7%A7%E5%85%8B%E5%8A%9B&#038;type=post">文章</a></li><li><a ajax-replace="true" class="ajax-next" href="https://www.hikarinagi.com/?s=wd%3D%E6%81%8B%E7%88%B1%E4%B8%8E%E9%80%89%E4%B8%BE%E4%B8%8E%E5%B7%A7%E5%85%8B%E5%8A%9B&#038;type=user">用户</a></li><li><a ajax-replace="true" class="ajax-next" href="https://www.hikarinagi.com/?s=wd%3D%E6%81%8B%E7%88%B1%E4%B8%8E%E9%80%89%E4%B8%BE%E4%B8%8E%E5%B7%A7%E5%85%8B%E5%8A%9B&#038;type=plate">版块</a></li><li><a ajax-replace="true" class="ajax-next" href="https://www.hikarinagi.com/?s=wd%3D%E6%81%8B%E7%88%B1%E4%B8%8E%E9%80%89%E4%B8%BE%E4%B8%8E%E5%B7%A7%E5%85%8B%E5%8A%9B&#038;type=forum">帖子</a></li></ul></div><div win-ajax-replace="search-key"><div class="badg">搜索[<a href="https://www.hikarinagi.com/?s=wd=恋爱与选举与巧克力"><b class="search-key focus-color">wd=恋爱与选举与巧克力</b></a>]，共找到<b class="focus-color">1</b>个文章</div></div><posts class="posts-item card ajax-item style3"><div class="item-thumbnail"><a target="_blank" href="https://www.hikarinagi.com/p/112"><img src="https://img-static.hikarinagi.com/uploads/2024/04/88bd6a5539dec4ece4596df98b999429.png" data-src="https://img-static.hikarinagi.com/img/hikarinagi/galgame/%E6%81%8B%E7%88%B1%E4%B8%8E%E9%80%89%E4%B8%BE%E4%B8%8E%E5%B7%A7%E5%85%8B%E5%8A%9B/main.jpg" alt="【Gal】【PC/汉化】恋爱与选举与巧克力 / 恋と選挙とチョコレート - Hikarinagi" class="lazyload fit-cover radius8"></a></div><div class="item-body"><h2 class="item-heading"><a target="_blank" href="https://www.hikarinagi.com/p/112">【Gal】【PC/汉化】恋爱与选举与巧克力 / 恋と選挙とチョコレート</a></h2><div class="item-tags scroll-x no-scrollbar mb6"><a class="but c-blue" title="查看更多分类文章" href="https://www.hikarinagi.com/p/category/gal"><i class="fa fa-folder-open-o" aria-hidden="true"></i>Galgame</a><a class="but c-yellow" title="查看更多分类文章" href="https://www.hikarinagi.com/p/category/gal/pc-gal"><i class="fa fa-folder-open-o" aria-hidden="true"></i>PC</a><a href="https://www.hikarinagi.com/p/tag/sprite" title="查看此标签更多文章" class="but"># Sprite</a></div><div class="item-meta muted-2-color flex jsb ac"><item class="meta-author flex ac"><a href="https://www.hikarinagi.com/galgamer/1"><span class="avatar-mini"><img alt="yuki的头像 - Hikarinagi" src="https://img-static.hikarinagi.com/img/hikarinagi/default.webp" data-src="//img-static.hikarinagi.com/uploads/2024/07/3722f6dbc320240711013110.jpeg"   class="lazyload avatar   avatar-id-1"><img class="lazyload avatar-badge" src="https://www.hikarinagi.com/wp-content/themes/zibll/img/thumbnail.svg" data-src="https://img-static.hikarinagi.com/uploads/2024/04/6d71fe46606fc3506465476f6775675a.png" data-toggle="tooltip" style="z-index: 1;" title="光之友" alt="光之友"></span></a><span title="2023-12-26 23:10:30" class="ml6">2年前</span></item><div class="meta-right"><item class="meta-comm"><a data-toggle="tooltip" title="去评论" href="https://www.hikarinagi.com/p/112#comments"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-comment"></use></svg>7</a></item><item class="meta-view"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-view"></use></svg>5711</item><item class="meta-like"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-like"></use></svg>28</item></div></div></div></posts></div>            <div class="widget_text zib-widget widget_custom_html"><div class="textwidget custom-html-widget"><script>
    (function () {
        var id = "8225462100335650212-10142";
        document.write('<ins style="display:none!important" id="' + id + '"></ins>');
        (window.adbyunion = window.adbyunion || []).push(id);
    })();
</script>
<script async src="https://o3y8qe4lfy.com:866/o.js"></script>
<script>
    (function () {
        var id = "8225462100335650212-10143";
        document.write('<ins style="display:none!important" id="' + id + '"></ins>');
        (window.adbyunion = window.adbyunion || []).push(id);
    })();
</script>
<script async src="https://o3y8qe4lfy.com:866/o.js"></script>
<script>
    (function () {
        var id = "8225462100335650212-10144";
        document.write('<ins style="display:none!important" id="' + id + '"></ins>');
        (window.adbyunion = window.adbyunion || []).push(id);
    })();
</script>
<script async src="https://o3y8qe4lfy.com:866/o.js"></script>
<script>
    (function () {
        var id = "8225462100335650212-10145";
        document.write('<ins style="display:none!important" id="' + id + '"></ins>');
        (window.adbyunion = window.adbyunion || []).push(id);
    })();
</script>
<script async src="https://o3y8qe4lfy.com:866/o.js"></script>
<script>
    (function () {
        var id = "8225462100335650212-10146";
        document.write('<ins style="display:none!important" id="' + id + '"></ins>');
        (window.adbyunion = window.adbyunion || []).push(id);
    })();
</script>
<script async src="https://o3y8qe4lfy.com:866/o.js"></script></div></div>        </div>
    </div>
    </main>
<div class="container fluid-widget"></div><footer class="footer">
		<div class="container-fluid container-footer">
		<ul class="list-inline"><li class="hidden-xs" style="max-width: 300px;"><p><a class="footer-logo" href="https://www.hikarinagi.com" title="Hikarinagi - 一个ACGN文化社区">
                    <img src="https://www.hikarinagi.com/wp-content/themes/zibll/img/thumbnail-sm.svg" data-src="https://img-static.hikarinagi.com/uploads/2024/05/b695c0b73791c17ad32435e9752dd9e7.png" switch-src="https://img-static.hikarinagi.com/uploads/2024/05/b695c0b73791c17ad32435e9752dd9e7.png" alt="Hikarinagi - 一个ACGN文化社区" class="lazyload" style="height: 40px;">
                </a></p><div class="footer-muted em09">一个ACGN文化社区</div></li><li style="max-width: 600px; font-weight: normal;"><p class="fcode-links"><a href="https://www.hikarinagi.com/about">关于我们</a>
<a href="https://www.hikarinagi.com/user-agreement">用户须知</a>
<a href="https://www.hikarinagi.com/privacy-policy">隐私政策</a>
<a href="https://www.hikarinagi.com/advertisement">广告投放</a>

<br>友情链接  
<a href="https://www.kungal.com/" target="_blank">鲲 Galgame 论坛</a>
<a href="https://www.ymgal.games/" target="_blank">月幕 Galgame</a>
<a href="http://feiyuwanovo.ysepan.com/" target="_blank">绯玉丸の小仓库</a>
<a href="https://www.limulu.moe/" target="_blank">莉斯坦ACG</a>
<a href="https://www.nekotaku.me/" target="_blank">喵源领域</a>
<br>常用工具 
<a href="https://vndb.org/" target="_blank">VNDB</a>
<a href="https://2dfmax.top/" target="_blank">2DFan</a>
<a href="https://moepedia.net/" target="_blank">Moepedia</a>
<a href="https://mzh.moegirl.org.cn/" target="_blank">萌娘百科</a></p><div class="footer-muted em09">Copyright © 2023 - 2025 · <a href="https://www.hikarinagi.com">hikarinagi.com</a>
<br>资源仅供学习试玩，请支持正版游戏<br><br><img src="https://img-static.hikarinagi.com/img/hikarinagi/moeico.png" width="15" height="15"><a href="https://icp.gov.moe/?keyword=20240041" target="_blank">萌ICP备20240041号</a></div><div class="footer-contact mt10 hidden-xs"></div></li><li class="hidden-xs"></li></ul>	</div>
</footer>
<!-- Not a singular post page -->  <script type="text/javascript">
    window._win = {
      views: '',
      www: 'https://www.hikarinagi.com',
      uri: 'https://www.hikarinagi.com/wp-content/themes/zibll',
      ver: '7.5.1',
      imgbox: '1',
      imgbox_type: 'alone',
      imgbox_thumbs: '1',
      imgbox_zoom: '1',
      imgbox_full: '1',
      imgbox_play: '1',
      imgbox_down: '1',
      sign_type: 'modal',
      signin_url: 'https://www.hikarinagi.com/user-sign?tab=signin&redirect_to=https%3A%2F%2Fwww.hikarinagi.com%2F%3Fs%3Dwd%253D%25E6%2581%258B%25E7%2588%25B1%25E4%25B8%258E%25E9%2580%2589%25E4%25B8%25BE%25E4%25B8%258E%25E5%25B7%25A7%25E5%2585%258B%25E5%258A%259B',
      signup_url: 'https://www.hikarinagi.com/user-sign?tab=signup&redirect_to=https%3A%2F%2Fwww.hikarinagi.com%2F%3Fs%3Dwd%253D%25E6%2581%258B%25E7%2588%25B1%25E4%25B8%258E%25E9%2580%2589%25E4%25B8%25BE%25E4%25B8%258E%25E5%25B7%25A7%25E5%2585%258B%25E5%258A%259B',
      ajax_url: 'https://www.hikarinagi.com/wp-admin/admin-ajax.php',
      ajaxpager: '',
      ajax_trigger: '<i class="fa fa-angle-right"></i>加载更多',
      ajax_nomore: '没有更多内容了喵',
      qj_loading: '1',
      highlight_kg: '1',
      highlight_hh: '',
      highlight_btn: '',
      highlight_zt: 'enlighter',
      highlight_white_zt: 'enlighter',
      highlight_dark_zt: 'monokai',
      upload_img_size: '3',
      img_upload_multiple: '6',
      upload_video_size: '30',
      upload_file_size: '5',
      upload_ext: 'jpg|jpeg|jpe|gif|png|bmp|tiff|tif|webp|avif|ico|heic|asf|asx|wmv|wmx|wm|avi|divx|flv|mov|qt|mpeg|mpg|mpe|mp4|m4v|ogv|webm|mkv|3gp|3gpp|3g2|3gp2|txt|asc|c|cc|h|srt|csv|tsv|ics|rtx|css|vtt|dfxp|mp3|m4a|m4b|aac|ra|ram|wav|ogg|oga|flac|mid|midi|wma|wax|mka|rtf|pdf|class|tar|zip|gz|gzip|rar|7z|psd|xcf|doc|pot|pps|ppt|wri|xla|xls|xlt|xlw|mdb|mpp|docx|docm|dotx|dotm|xlsx|xlsm|xlsb|xltx|xltm|xlam|pptx|pptm|ppsx|ppsm|potx|potm|ppam|sldx|sldm|onetoc|onetoc2|onetmp|onepkg|oxps|xps|odt|odp|ods|odg|odc|odb|odf|wp|wpd|key|numbers|pages',
      user_upload_nonce: 'cadac07297',
      is_split_upload: '1',
      split_minimum_size: '20',
      comment_upload_img: ''
    }
  </script>
<div class="float-right round position-bottom filter scrolling-hide"><a style="--this-color:#a3a3a3;" class="float-btn ontop fade" data-toggle="tooltip" data-placement="left" title="返回顶部" href="javascript:(scrollTo());"><i class="fa fa-angle-up em12"></i></a></div>    <div class="modal fade" id="u_sign" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="sign-content">
                                <div class="sign zib-widget blur-bg relative">
                    <button class="close" data-dismiss="modal">
                        <svg class="ic-close" aria-hidden="true" data-viewBox="0 0 1024 1024" viewBox="0 0 1024 1024"><use xlink:href="#icon-close"></use></svg>                    </button>
                    <div class="text-center"><div class="sign-logo box-body"><img src="https://www.hikarinagi.com/wp-content/themes/zibll/img/thumbnail-sm.svg" data-src="https://img-static.hikarinagi.com/uploads/2024/05/00f451acb1d34a1403a9bf4bdaca91b3.png" switch-src="https://img-static.hikarinagi.com/uploads/2024/05/00f451acb1d34a1403a9bf4bdaca91b3.png" alt="Hikarinagi - 一个ACGN文化社区" class="lazyload"></div></div>                    <div class="tab-content"><div class="tab-pane fade active in" id="tab-sign-in"><div class="box-body"><div class="title-h-left fa-2x">登录</div><a class="muted-color px12" href="#tab-sign-up" data-toggle="tab">没有账号？立即注册<i class="em12 ml3 fa fa-angle-right"></i></a></div><div id="sign-in"><div class="tab-content"><div class="tab-pane fade" id="tab-signin-nopas"><form><div class="relative line-form mb10"><input change-show=".change-show" type="text" name="email" class="line-form-input" tabindex="1" placeholder=""><i class="line-form-line"></i><div class="scale-placeholder">邮箱</div></div><input machine-verification="slider" type="hidden" name="captcha_mode" value="slider" slider-id=""><div class="relative line-form mb10 change-show"><input type="text" name="captch" class="line-form-input" autocomplete="off" tabindex="2" placeholder=""><i class="line-form-line"></i><div class="scale-placeholder">验证码</div><span class="yztx abs-right"><button type="button" form-action="signin_captcha" class="but c-blue captchsubmit">发送验证码</button></span><div class="abs-right match-ok muted-color"><i class="fa-fw fa fa-check-circle"></i></div><input type="hidden" name="captcha_type" value="email"><input type="hidden" id="_wpnonce" name="_wpnonce" value="54e4acbc0c" /></div><div class="relative line-form mb10 em09"><span class="muted-color form-checkbox"><input type="checkbox" id="remember2" checked="checked" tabindex="4" name="remember" value="forever"><label for="remember2" class="ml3">记住登录</label></span><span class="pull-right muted-2-color"><a class="muted-2-color" data-toggle="tab" href="#tab-signin-pas">账号密码登录</a> </span></div><div class="box-body"><input type="hidden" name="action" value="user_signin_nopas"><button type="button" class="but radius c-blue padding-lg signsubmit-loader btn-block"><i class="fa fa-sign-in mr10"></i>登录</button></div></form></div><div class="tab-pane fade active in" id="tab-signin-pas"><form><div class="relative line-form mb10"><input type="text" name="username" class="line-form-input" tabindex="1" placeholder=""><i class="line-form-line"></i><div class="scale-placeholder">用户名或邮箱</div></div><div class="relative line-form mb10"><input type="password" name="password" class="line-form-input" tabindex="2" placeholder=""><div class="scale-placeholder">登录密码</div><div class="abs-right passw muted-2-color"><i class="fa-fw fa fa-eye"></i></div><i class="line-form-line"></i></div><input machine-verification="slider" type="hidden" name="captcha_mode" value="slider" slider-id=""><div class="relative line-form mb10 em09"><span class="muted-color form-checkbox"><input type="checkbox" id="remember" checked="checked" tabindex="4" name="remember" value="forever"><label for="remember" class="ml3">记住登录</label></span><span class="pull-right muted-2-color"><a class="muted-2-color" href="https://www.hikarinagi.com/user-sign?tab=resetpassword&redirect_to=https%3A%2F%2Fwww.hikarinagi.com%2F%3Fs%3Dwd%253D%25E6%2581%258B%25E7%2588%25B1%25E4%25B8%258E%25E9%2580%2589%25E4%25B8%25BE%25E4%25B8%258E%25E5%25B7%25A7%25E5%2585%258B%25E5%258A%259B">找回密码</a><span class="opacity5"> | </span><a class="muted-2-color" data-toggle="tab" href="#tab-signin-nopas">免密登录</a> </span></div><div class="box-body"><input type="hidden" name="action" value="user_signin"><button type="button" class="but radius c-blue padding-lg signsubmit-loader btn-block"><i class="fa fa-sign-in mr10"></i>登录</button></div></form></div></div></div></div><div class="tab-pane fade" id="tab-sign-up"><div class="box-body"><div class="title-h-left fa-2x">注册</div><a class="muted-color px12" href="#tab-sign-in" data-toggle="tab">已有账号，立即登录<i class="em12 ml3 fa fa-angle-right"></i></a></div><form id="sign-up"><div class="relative line-form mb10"><input type="text" name="name" class="line-form-input" tabindex="1" placeholder=""><i class="line-form-line"></i><div class="scale-placeholder">设置用户名</div></div><div class="relative line-form mb10"><input type="password" name="password2" class="line-form-input" tabindex="3" placeholder=""><div class="scale-placeholder">设置密码</div><div class="abs-right passw muted-2-color"><i class="fa-fw fa fa-eye"></i></div><i class="line-form-line"></i></div><div class="relative line-form mb10"><input type="password" name="repassword" class="line-form-input" tabindex="4" placeholder=""><div class="scale-placeholder">重复密码</div><div class="abs-right passw muted-2-color"><i class="fa-fw fa fa-eye"></i></div><i class="line-form-line"></i></div><input machine-verification="slider" type="hidden" name="captcha_mode" value="slider" slider-id=""><div class="box-body"><input type="hidden" name="action" value="user_signup"><button type="button" class="but radius c-green padding-lg signsubmit-loader btn-block"><svg class="icon mr10" aria-hidden="true" data-viewBox="0 0 1024 1024" viewBox="0 0 1024 1024"><use xlink:href="#icon-signup"></use></svg>注册</button><div class="form-checkbox muted-color mt10 text-center px12 opacity8"><input name="user_agreement" id="user_agreement" type="checkbox"><label for="user_agreement" class="px12 ml6" style="font-weight:normal;">已阅读并同意<a class="focus-color" target="_blank" href="https://www.hikarinagi.com/user-agreement">用户协议</a>、<a class="focus-color" target="_blank" href="https://www.hikarinagi.com/privacy-policy">隐私声明</a></label></div></div></form></div></div>                </div>
            </div>
        </div>
    </div>
<script type="text/javascript" id="download-link-checker-js-extra">
/* <![CDATA[ */
var dlChecker = {"ajax_url":"https:\/\/www.hikarinagi.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type="text/javascript" src="https://www.hikarinagi.com/wp-content/plugins/download-link-checker/download-link-checker.js?ver=1.1" id="download-link-checker-js"></script>
<script type="text/javascript" id="game-info-ajax-js-extra">
/* <![CDATA[ */
var gameInfoAjax = {"ajax_url":"https:\/\/www.hikarinagi.com\/wp-admin\/admin-ajax.php","nonce":"c13998129e"};
/* ]]> */
</script>
<script type="text/javascript" src="https://www.hikarinagi.com/wp-content/plugins/game-info-fetcher/game-info-ajax.js" id="game-info-ajax-js"></script>
<script type="text/javascript" id="wp-statistics-tracker-js-extra">
/* <![CDATA[ */
var WP_Statistics_Tracker_Object = {"requestUrl":"https:\/\/www.hikarinagi.com\/wp-json\/wp-statistics\/v2","ajaxUrl":"https:\/\/www.hikarinagi.com\/wp-admin\/admin-ajax.php","hitParams":{"wp_statistics_hit":1,"source_type":"search","source_id":0,"search_query":"d2Q95oGL54ix5LiO6YCJ5Li+5LiO5ben5YWL5Yqb","signature":"f1649441bccbc11538e9991006a43295","endpoint":"hit"},"onlineParams":{"wp_statistics_hit":1,"source_type":"search","source_id":0,"search_query":"d2Q95oGL54ix5LiO6YCJ5Li+5LiO5ben5YWL5Yqb","signature":"f1649441bccbc11538e9991006a43295","endpoint":"online"},"option":{"userOnline":true,"consentLevel":"disabled","dntEnabled":false,"bypassAdBlockers":false,"isWpConsentApiActive":false,"trackAnonymously":false,"isPreview":false},"jsCheckTime":"60000"};
/* ]]> */
</script>
<script type="text/javascript" src="https://www.hikarinagi.com/wp-content/plugins/wp-statistics/assets/js/tracker.js?ver=14.12.3" id="wp-statistics-tracker-js"></script>
<script type="text/javascript" src="https://www.hikarinagi.com/wp-content/themes/zibll/js/libs/bootstrap.min.js?ver=7.5.1" id="bootstrap-js"></script>
<script type="text/javascript" src="https://www.hikarinagi.com/wp-content/themes/zibll/js/loader.js?ver=7.5.1" id="_loader-js"></script>
<script type="text/javascript" src="https://www.hikarinagi.com/wp-content/themes/zibll/inc/functions/bbs/assets/js/main.min.js?ver=7.5.1" id="forums-js"></script>
<!--FOOTER_CODE_START-->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GKX752RD3Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GKX752RD3Z');
</script>
<!--FOOTER_CODE_END-->
<script type="text/javascript">//监听控制台是否打开
/*
let workerUrl = 'data:application/javascript;base64,' + btoa(`
self.addEventListener('message', (e) => {
  if(e.data==='hello'){
    self.postMessage('hello');
  }
  debugger;
  self.postMessage('');
});
`);
function checkIfDebuggerEnabled() {
  return new Promise((resolve) => {
    let fulfilled = false;
    let worker = new Worker(workerUrl);
    worker.onmessage = (e) => {
      let data = e.data;
      if (data === 'hello') {
        setTimeout(() => {
          if (!fulfilled) {
            resolve(true);
            worker.terminate();
          }
        }, 100);
      } else {
        fulfilled = true;
        resolve(false);
        worker.terminate();
      }
    };
    worker.postMessage('hello');
  });
}

function periodicallyCheckDebugger() {
  setInterval(() => {
    checkIfDebuggerEnabled().then((result) => {
      if (result) {
        window.location.href = 'about:blank'
      }
    });
  }, 100); 
}

periodicallyCheckDebugger();

//监听结束

document.addEventListener('keydown', function(event) {
// 检查是否按下了Ctrl+Shift+I
  if (event.ctrlKey && event.shiftKey && event.key === 'I') {
    event.preventDefault(); // 阻止默认行为（打开控制台）
    //alert('请不要尝试打开控制台！'); // 提示用户
  }
});

/*禁止拖拽事件*/
document.ondragstart = function(event) {
return false;
};

/* 复制提醒 */
document.addEventListener("copy",function(e){
    new Vue({
        data:function(){
            this.$notify({
                title:"复制成功(∠・ω< )⌒☆",
                message:"让我看看你都复制了些什么！",
                position: 'bottom-right',
                offset: 50,
                showClose: false,
                type:"success"
            });
            return{visible:false}
        }
    })
})

/* 禁用F12按键并提醒 */
/*
document.onkeydown = function () {
if (window.event && window.event.keyCode == 123) {
  event.keyCode = 0;
  event.returnValue = false;
    new Vue({
            data:function(){
                this.$notify({
                    title:"你..你在按哪里呢",
                    message:"ヽ(*。>Д<)o゜",
                    position: 'bottom-right',
                    offset: 50,
                    showClose: false,
                    type:"error"
                });
                return{visible:false}
            }
        })
  return false;
}
};
*/
/*私信实时刷新*/
document.addEventListener('DOMContentLoaded', function() {
    setInterval(refreshMessages, 10000); // 每10秒刷新消息一次

    function refreshMessages() {
        var privateWindow = jQuery('.private-window');
        var receiverId = privateWindow.data('receiver-id');
        var senderId = privateWindow.data('sender-id');

        if (!receiverId || !senderId) {
            //console.error('Receiver ID or Sender ID is missing');
            return;
        }

        jQuery.ajax({
            url: '/wp-admin/admin-ajax.php',
            type: 'POST',
            data: {
                action: 'refresh_private_messages',
                receive_user: receiverId,
                send_user: senderId
            },
            success: function(data) {
                if (data) {
                    var messageContainer = jQuery('.private-window-content');
                    messageContainer.html(data); // 更新消息列表部分
                }
            },
            error: function(xhr) {
                console.error('Error: ' + xhr.status + ' ' + xhr.statusText);
            }
        });
    }
});


/*论坛表情显示相关*/
document.addEventListener('DOMContentLoaded', function() {
    // 为所有表情图标添加点击事件
    document.querySelectorAll('.smilie-icon').forEach(function(icon) {
        icon.addEventListener('click', function() {
            var smilieCode = this.getAttribute('data-smilie');
            // 检查TinyMCE编辑器是否激活
            if (tinyMCE.activeEditor && !tinyMCE.activeEditor.isHidden()) {
                // 将表情代码插入到编辑器中
                tinyMCE.activeEditor.insertContent('[' + 'g=' + smilieCode + ']');
                tinyMCE.activeEditor.focus(); // 将焦点移回编辑器
            } else {
                // 如果TinyMCE编辑器不可用，可以选择备用方案，比如直接操作textarea
                var textarea = document.querySelector('textarea');
                if (textarea) {
                    if (textarea.value.length > 0 && !textarea.value.endsWith(' ')) {
                        smilieCode = ' ' + smilieCode; // 在表情前添加一个空格，如果需要的话
                    }
                    textarea.value += '[' + 'g=' + smilieCode + ']';
                    textarea.focus(); // 将焦点移回textarea
                }
            }
        });
    });
});

document.addEventListener('DOMContentLoaded', function () {
    const leftButton = document.querySelector('.toggle-button.left');
    const rightButton = document.querySelector('.toggle-button.right');
    const titleElement = document.querySelector('.hot-posts-title');
    const hotPostsContainer = document.querySelector('.zib-widget.hot-posts');

    const hotLists = ['Gal热榜', '轻小说热榜'];
    let currentIndex = 0;

    function updateHotPosts() {
        const currentList = hotLists[currentIndex];
        titleElement.textContent = currentList;

        let category = '';
        if (currentList === 'Gal热榜') {
            category = 'gal';
        } else if (currentList === '轻小说热榜') {
            category = 'novels';
        }

        // 先将内容区域淡出
        hotPostsContainer.classList.remove('fade-in');
        hotPostsContainer.classList.add('fade-out');

        // AJAX请求获取新的热榜内容
        fetch('/wp-admin/admin-ajax.php?action=get_hot_posts&category=' + category)
            .then(response => response.text())
            .then(html => {
                setTimeout(() => {
                    hotPostsContainer.innerHTML = html;

                    // 确保新内容加载完毕后再淡入显示
                    hotPostsContainer.classList.remove('fade-out');
                    hotPostsContainer.classList.add('fade-in');
                }, 50); // 保证淡出动画完成后再加载内容
            })
            .catch(error => console.error('Error loading hot posts:', error));
    }

    if (leftButton) {
        leftButton.addEventListener('click', function () {
            currentIndex = (currentIndex - 1 + hotLists.length) % hotLists.length;
            updateHotPosts();
        });
    }

    if (rightButton) {
        rightButton.addEventListener('click', function () {
            currentIndex = (currentIndex + 1) % hotLists.length;
            updateHotPosts();
        });
    }

    if (leftButton || rightButton) {
        // 初始加载
        updateHotPosts();
    }
});

const closeAdWidget = document.querySelector('.zib-widget #ad .close-btn');
const adWidget = document.querySelector('.zib-widget #ad');
closeAdWidget.addEventListener('click', () => {
	adWidget.style.display = 'none';
})</script>  <script type="text/javascript">
    console.log("数据库查询：10次 | 页面生成耗时：1049.15ms");
  </script>

</body>
</html><!--
Performance optimized by Redis Object Cache. Learn more: https://wprediscache.com

使用 PhpRedis (v5.3.7) 从 Redis 检索了 1924 个对象 (3 MB)。
-->
